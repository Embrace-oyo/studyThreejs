import{r as w,b as k,c as v,d as s,e as r,f as y,u as g,g as F,h as R,i as d,j as q}from"./vendor-D10xMT_S.js";import{_ as S}from"../lib/index-CADhc86s.js";import"./threejs-R2oN4ICD.js";const B={class:"layout"},C={class:"top"},E={class:"center"},A={class:"right"},j={class:"raw button"},x={class:"fps button"},z={class:"container"},D={__name:"layout",setup(L){const m=q(),l=F(),e=w({name:"",raw:"",fps:"",last:Date.now(),ticks:0}),p=()=>{m.push({path:"/"})},i=()=>{if(requestAnimationFrame(()=>i()),e.raw=Math.floor(window.performance.memory.totalJSHeapSize/1024/1024)+"MB",e.ticks+=1,e.ticks>=30){const t=Date.now(),o=t-e.last,n=Math.round(1e3/(o/e.ticks));e.last=t,e.ticks=0,e.fps=n}},_=()=>{const o=document.querySelector("canvas").toDataURL("image/png"),n=atob(o.replace(/^data:image\/(png|jpeg|jpg);base64,/,"")),u=new Array(n.length);for(let c=0;c<n.length;c++)u[c]=n.charCodeAt(c);const b=new Uint8Array(u),h=new Blob([b],{type:void 0}),a=document.createElement("a");a.download=`${e.name}.png`,a.href=URL.createObjectURL(h),a.click()},f=()=>{if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){console.log("浏览器支持全屏功能");const t=document.querySelector(".container");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}else console.log("浏览器不支持全屏功能")};return k(()=>{e.name=l.name,i()}),(t,o)=>{const n=R("RouterView");return d(),v("div",B,[s("div",C,[s("div",{class:"left button",onClick:p},"返回"),s("div",E,r(e.name),1),s("div",A,[s("div",j,"内存: "+r(e.raw),1),s("div",x,"FPS: "+r(e.fps),1),s("div",{class:"print button",onClick:_},"截图"),s("div",{class:"screen button",onClick:f},"全屏")])]),s("div",z,[(d(),y(n,{key:g(l).fullPath}))])])}}},N=S(D,[["__scopeId","data-v-26b6ce6b"]]);export{N as default};
